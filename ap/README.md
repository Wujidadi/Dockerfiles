# Apache + PHP 映像檔

基於 Ubuntu，安裝自己調校過的 Apache、PHP 及 Node.js 等相關軟體，建構而成的複合映像檔。

須搭配 Docker Compose，在 command 項設置 `bash -c "service rsyslog start ; /usr/sbin/apache2ctl -D FOREGROUND"` 方能在容器中啟用 syslog。

## 版本說明（自 0.17 版起）

### 3.2, 3.2-arm（2022-12-30）

* 作業系統使用 **Ubuntu 22.04 LTS**
* 主要軟體版本：
  * **Vim 9.0.1108**
  * **GNU Nano 7.1**
  * **Apache 2.4.54**
  * **PHP 8.2.0**
  * **Composer 2.5.1**
  * **Node.js 19.3.0**
    * **npm 9.2.0**

### 1.8, 1.8-arm, 3.1, 3.1-arm（2022-12-07）

* 作業系統使用 **Ubuntu 22.04 LTS**
* 主要軟體版本：
  * **Vim 9.0.1025**
  * **GNU Nano 7.0**
  * **Apache 2.4.54**
  * **PHP 7.4.33** (1.8), **PHP 8.1.13** (3.1)
  * **Composer 2.4.4**
  * **Node.js 19.2.0**
    * **npm 8.19.3**
* 加裝 **Swoole** 及 **Supervisor**
* 取消使用者 home 目錄下的 `cron` 資料夾
* 取消 Dockerfile 中的註釋，將其併入輸出訊息

### 1.7, 1.7-arm（2022-11-03）

* 因應個人工作上 PHP 7 環境的需求，以 **1.6 版** 為基礎，更新了 Node.js、Composer、Vim 及 Nano
  > 其實是以 **1.5 版** 為基底，更新上述套件的同時加裝了 PHP SQL Server 擴充元件  
  > 因此 Dockerfile 也區分為 ARM 架構和非 ARM 架構兩個版本
* 作業系統使用 **Ubuntu 20.04 LTS**
* 主要軟體版本：
  * **Vim 9.0.749**
  * **GNU Nano 6.4**
  * **Apache 2.4.53**
  * **PHP 7.4.28**
  * **Composer 2.4.4**
  * **Node.js 18.12.0**
    * **npm 8.19.2**

### latest, 3.0, 3.0-arm（2022-10-29）

* 作業系統使用 **Ubuntu 22.04 LTS**
  * 因由 **20.04 LTS** 升級上來，故映像檔大版本跳號至 **3**
* 主要軟體版本：
  * **Vim 9.0.749**
  * **GNU Nano 6.4**
  * **Apache 2.4.54**
  * **PHP 8.1.12**
  * **Composer 2.4.4**
  * **Node.js 18.12.0**
    * **npm 8.19.2**

### 2.4（2022-03-22）

* 使用 **Ubuntu 20.04 LTS** 映像檔
* 支援 MSSQL：加裝 **gpg-agent**、**Microsoft ODBC 18** 與 **Microsoft SQL Server Driver for PHP**
* 與 **1.6 版**並行，為 **PHP 8.x** 的最新同步版本
* 此版本所有的改動均和 MSSQL 有關，而目前 MSSQL Driver for PHP 尚不支援 Apple M1 以外的 ARM64 架構，故不建立 **2.4-arm** 版本

### 1.6（2022-03-22）

* 與 **2.4 版**並行，為 **PHP 7.x** 的最新同步版本
* 此版本所有的改動均和 MSSQL 有關，而目前 MSSQL Driver for PHP 尚不支援 Apple M1 以外的 ARM64 架構，故不建立 **1.6-arm** 版本

### 2.3, 2.3-arm（2022-02-19）

* 使用 **Ubuntu 20.04 LTS** 映像檔
* 加裝 **sntp** 及 **ca-certificates**
* 更新 **Composer** 至 **2.2.6**
* 更新 **GNU Nano** 至 **6.2**
* 與 **1.5 版**並行，為 **PHP 8.x** 的同步版本

### 1.5, 1.5-arm（2022-02-19）

* 與 **2.3 版**並行，為 **PHP 7.x** 的同步版本

### 2.2, 2.2-arm（2022-01-05）

* 使用 **Ubuntu 20.04 LTS** 映像檔
* 更新 **Composer** 至 **2.2.3**
* 更新 **GNU Nano** 至 **6.0**
* 另建立 `-arm` 版本
* 與 **1.4 版**並行，為 **PHP 8.x** 的同步版本
* *2021-01-15：更換 `root` 與預設使用者 `user` 的預設密碼*

### 1.4, 1.4-arm（2022-01-05）

* 開始比照 **2.x 版**，建立 `-arm` 版本
* 與 **2.2 版**並行，為 **PHP 7.x** 的同步版本
* *2021-01-15：修正 cURL 抓取線上 rc 檔未轉址，造成套用自訂設定失敗的 bug；更換 `root` 與預設使用者 `user` 的預設密碼*

### 2.1（2021-04-10）

* 使用 **Ubuntu 20.04** 映像檔
* 更新 **GNU Nano** 至 **5.6.1**
* 另建立 `-arm` 版本，不與 **1.x 版本**同步
* 與 **1.3 版**並行，為 **PHP 8.x** 的同步版本

### 1.3（2021-04-10）

* 與 **2.1 版**並行，為 **PHP 7.x** 的同步版本

### 2.0（2020-12-09）

* 更新 **PHP** 至 **8.0**
* 設定 **locale** 為 `en_US.UTF-8`
* 開始與 **1.x 版本**並行，為 **PHP 8.x** 的同步版本
* 為了能在使用 ARM 架構的裝置（如樹莓派）上運行，另建立 ~~`-rpi4`~~ `-arm` 版本，不與 **1.x 版本**同步

### 1.2（2020-12-09）

* 更新 **Composer** 至 **2.0.8**
* 加裝 **less**，並設定 Git 預設分頁器為 `less --raw-control-chars`
* 更新 **GNU Nano** 至 **5.4**
* 設定 **locale** 為 `en_US.UTF-8`
* 開始與 **2.x 版本**並行，為 **PHP 7.x** 的同步版本

### 1.1（2020-10-22）

* 更新 **GNU Nano** 至 **5.3**
* 更新 **Composer** 至 **1.10.15**

### 1.0（2020-08-28）

* 更新 **Ubuntu** 至 **20.04 LTS**
* 更新 **Docker Compose** 至 **1.26.2**
* 更新 **GNU Nano** 至 **5.2**
* 因 **Ubuntu** 跳版，且此映像檔投入實際使用已久，故將版本號直接升到 **1.0**

### 0.22（2020-08-02）

* 基於 0.21 版（**Ubuntu 18.04**），加裝 **less** 及 **locale**，以設定 Git 分頁器及系統語系，但不加入同步更新（今後將不維護 **Ubuntu 18.04** 的映像檔）

### 0.21（2020-06-02）

* 修改部分 **apt** 及安裝 **GNU Nano** 的指令

### 0.20（2020-05-15）

* 安裝 **Screen**、**Tshark** 及 **GNU Nano**

### 0.19（2020-04-20）

* 調整 `www-data` 帳號的群組權限
* 安裝 **cron** 並加入可由外部宿主機調用的 `crontab` 腳本

### 0.18（2020-04-06）

* 更新 **PHP** 至 **7.4**，加入 **Node.js** 及 **npm**

### 0.17（2019-10-11）

* 加入 **zsh**，並用以取代 **bash** 作為主程式容器的預設 shell
